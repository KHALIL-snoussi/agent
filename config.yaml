# QBRIX Diamond Painting Kit Generator Configuration

# Print specifications (QBRIX standards)
print_specs:
  dpi: 600  # Print DPI (≥300 recommended, 600 for quality)
  margin_mm: 12.0  # A4 page margins in mm (10-15mm range)
  cell_size_mm: 2.8  # Drill/cell size in mm (2.3-3.0mm range)
  paper_size: "A4"  # Always A4 landscape for QBRIX

# QBRIX Fixed Palette Configuration
fixed_palettes:
  # Three locked styles with exactly 7 DMC colors each
  # Order defines cluster_id 0-6 (never changes)
  styles: ["ORIGINAL", "VINTAGE", "POPART"]
  default_style: "ORIGINAL"
  
  # ORIGINAL (natural enhancement)
  original_palette: ["310", "B5200", "321", "444", "700", "797", "738"]
  
  # VINTAGE (warm sepia/heritage)
  vintage_palette: ["3371", "3865", "801", "613", "3033", "372", "3790"]
  
  # POPART (bold high-contrast)
  popart_palette: ["310", "B5200", "666", "444", "700", "996", "915"]

# Grid constraints (QBRIX requirements)
grid_constraints:
  max_cells: 10000  # Hard cap on total cells
  max_aspect_deviation: 0.02  # ±2% aspect ratio tolerance
  overlap_cells: 2  # Cell overlap between tiles for assembly

# Quality thresholds
quality_thresholds:
  max_deltaE: 12.0  # Color accuracy risk threshold
  min_ssim: 0.75  # Detail loss risk threshold
  min_color_percentage: 2.0  # Rare color warning threshold (%)
  min_x_height_mm: 1.2  # Symbol legibility threshold
  min_stroke_mm: 0.15  # Line thickness threshold

# Color science settings
color_science:
  dmc_database: "data/dmc.csv"  # Canonical DMC color database
  color_space: "Lab"  # Use Lab color space for ΔE2000
  deltaE_method: "CIEDE2000"  # CIEDE2000 color difference
  enable_smoothing: true  # Spatial smoothing on index map

# Processing settings
processing:
  seed: 42  # Random seed for reproducible results
  auto_crop: true  # Smart cropping to match grid aspect ratio
  normalize_exposure: true  # Exposure/contrast normalization

# Output settings
output:
  bag_size: 200  # Drills per bag for inventory
  spare_ratio: 0.15  # Extra drills percentage
  preview_max_size: 1200  # Max preview image dimension
  pdf_compression: true  # Compress PDF for file size

# File naming
naming:
  pdf_name: "diamond_painting_kit.pdf"
  csv_name: "inventory.csv"
  json_name: "kit_metadata.json"
  preview_prefix: "preview_"
  original_preview: "original_preview.jpg"
  quantized_preview: "quantized_preview.jpg"

# Legacy compatibility (deprecated, kept for reference)
legacy:
  canvas_width_cm: 30
  canvas_height_cm: 40
  drill_size_mm_legacy: 2.5
